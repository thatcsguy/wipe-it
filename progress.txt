ENC-001: Core type definitions
- Created src/server/encounters/types.ts
- Exports: Context, Selector, MechanicResult, Script, MechanicParams, ScriptRunner
- MechanicParams = discriminated union for all mechanic types with optional defaults
- Build passes

ENC-002: Basic targeting selectors
- Created src/server/encounters/targeting.ts
- all(): filters hp > 0
- random(n): Fisher-Yates shuffle, handles n > players.length
- closest(point): Euclidean distance, returns single-element array
- furthest(point): Euclidean distance, returns single-element array
- All return Selector functions (not results)
- Build passes

ENC-003: Advanced targeting selectors
- nClosest(n, point): sorts by distance ascending, takes first n
- nFurthest(n, point): sorts by distance descending, takes first n
- withStatus(effect): filters players whose statusEffects includes effect
- withoutStatus(effect): filters players whose statusEffects excludes effect
- All handle edge cases (empty living players, n > players.length)
- Build passes

ENC-004: Selector combinators
- exclude(selector, excluded): filters out players by id from excluded results
- first(n, selector): takes first n results from selector
- union(...selectors): combines all selector results, dedupes by player id
- All combinators compose with existing selectors (e.g., exclude(random(2), closest(point)))
- Build passes

ENC-005: Context factory
- Created src/server/encounters/context.ts
- createContext() returns empty Context object {}
- Simple foundation for future context initialization logic
- Build passes

ENC-006: Basic ScriptRunner implementation
- Created src/server/encounters/script-runner.ts
- ScriptRunnerImpl class takes Game in constructor
- spawn(): routes MechanicParams to correct game.spawn* method, returns mechanic ID
- wait(ms): returns Promise resolving after ms via setTimeout
- getState(): returns GameState from game.getState()
- select(selector): invokes selector with state + context, returns PlayerState[]
- Modified game.ts: all spawn* methods now return string (mechanic ID)
- Added game.getState() method
- waitForResolve/run throw "not implemented" per spec
- Build passes