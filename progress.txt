## DOODAD-001: Types
- Added DoodadState interface: id, type, width, height, rotation, startTime, endTime, opacity?, layer, color, data?, x?, y?, anchorPlayerId?, anchorOffset?
- Added DoodadType ('portal'|'rect'|'circle'), DoodadLayer ('background'|'foreground'), DoodadAnchorOffset
- Added doodads: DoodadState[] to GameState
- Stub empty doodads[] in game.ts (server broadcast + getState) and client game.ts for compilation
- Files: src/shared/types.ts, src/server/game.ts, src/client/game.ts

## DOODAD-002: Server DoodadManager
- Created DoodadManager class w/ spawn(), remove(), tick(), getStates()
- spawn() generates unique id (doodad-N), sets startTime/endTime from duration
- tick(now) auto-removes expired doodads (endTime < now)
- SpawnDoodadParams interface for typed spawn params
- Files: src/server/doodads/manager.ts

## DOODAD-003: Integrate DoodadManager into Game
- Import DoodadManager, instantiate as private field
- tick() calls doodadManager.tick(now) after status effects
- broadcast() + getState() use doodadManager.getStates() instead of empty []
- Added getDoodadManager() accessor for script-runner access
- Files: src/server/game.ts

## DOODAD-004: Client Doodad Rendering System
- Created src/client/doodads/index.ts: renderDoodads(ctx, doodads, layer, serverTime, posData) + resolvePosition()
- DoodadPositionData interface mirrors PlayerPositionData for consistent position resolution
- resolvePosition() handles fixed (x,y) and player-anchored positions w/ offset
- renderDoodads() filters by layer, dispatches to type renderers (portal/rect/circle)
- Created src/client/doodads/portal.ts: animated swirling vortex effect
- Portal uses serverTime for animation: rotation (ROTATION_SPEED), pulsing opacity
- 4 spiral arms with SPIRAL_TWIST, radial gradients, bright core, edge ring
- parseColor() supports hex (#xxx, #xxxxxx) and named colors
- Files: src/client/doodads/index.ts, src/client/doodads/portal.ts

## DOODAD-005: Rect and Circle Renderers
- Created src/client/doodads/rect.ts: renderRect() w/ rotation, color, opacity
- Created src/client/doodads/circle.ts: renderCircle() w/ rotation, color, opacity
- Both use ctx.save/restore, translate to pos, rotate, apply globalAlpha
- Both draw fill + subtle white border for visibility
- Updated index.ts to import and dispatch to these renderers (removing TODOs)
- Files: src/client/doodads/rect.ts, src/client/doodads/circle.ts, src/client/doodads/index.ts

## DOODAD-006: Integrate Doodad Rendering into Renderer
- Import renderDoodads, DoodadPositionData from ./doodads/index
- Add doodads?: DoodadState[] param to render()
- Build posData once, reuse for mechanics + doodads
- Background layer: rendered after drawArena(), before mechanics
- Foreground layer: rendered after status effects, before tower explosions
- Updated client game.ts to pass currentGameState.doodads to render()
- Validated: doodads array flows through GameState (Playwright confirmed)
- Files: src/client/renderer.ts, src/client/game.ts

## DOODAD-007: Debug Panel for Doodads
- Added doodadsSection variable and "Doodads" section in initDebugPanel HTML
- Created updateDoodadsSection() following mechanics pattern
- .debug-doodad elements with: data-doodad-id, data-type, data-expires
- Fixed-position doodads: data-x, data-y attributes
- Anchored doodads: data-anchor-player attribute, resolved pos from player lookup
- Display text shows type, resolved position, time remaining
- Files: src/client/debugPanel.ts

## DOODAD-008: Admin Spawn Portal Button
- Added "Doodads" section to admin panel in public/index.html
- Button id='spawn-portal-btn' spawns portal via admin:spawnPortal event
- Server handler: random arena edge position (N/S/E/W sides, offset=-50)
- Supports overrides: duration, x, y via params
- __adminTest.emitSpawnPortal(params?) method added for testing
- Portal: 80x80, #8844ff color, background layer, 5s default duration
- Files: public/index.html, src/server/index.ts, src/client/admin.ts
