STACK-001, STACK-002, STACK-003: Added stack mechanic types
- Added 'stack' to MechanicType union
- Created StackMechanicState interface: type, id, startTime, endTime, targetPlayerId, radius
- Added StackMechanicState to MechanicState union
- Files: src/shared/types.ts
- Build verified passing

STACK-004, STACK-005, STACK-006: Created StackMechanic class
- Constructor: targetPlayerId, radius, duration; generates ID stack-{timestamp}-{random}
- toState(): returns StackMechanicState with all fields
- getResult(): returns {playersInside[], targetPosition} using sqrt distance formula
- Pattern follows SpreadMechanic (both follow target player)
- Files: src/server/mechanics/stack.ts
- Build verified passing

STACK-007: Added spawnStack to Game class
- Method: spawnStack(targetPlayerId, radius, duration): string
- Creates StackMechanic, adds to mechanicManager, returns mechanic.id
- Follows pattern of spawnSpread
- Files: src/server/game.ts (import + method)
- Build verified passing

STACK-008, STACK-009, STACK-010: Added stack to encounter scripting system
- MechanicParams union: { type: 'stack'; targetPlayerId: string; radius?; duration?; triggerAt? }
- DEFAULTS.stack: { radius: 80, duration: 3000 }
- spawn() case: uses computeTiming for triggerAt, calls game.spawnStack()
- Follows existing pattern (spread, chariot, etc)
- Files: src/server/encounters/types.ts, src/server/encounters/script-runner.ts
- Build verified passing

STACK-011, STACK-012, STACK-013, STACK-014, STACK-015: Client-side stack rendering
- Created renderStack() in src/client/mechanics/stack.ts
- Yellow circle (#ffdd00) 2px stroke, 0.6 opacity around target player
- 8 FFXIV-style arrows outside radius pointing inward, elongated with tails
- Arrows pulse (scale+opacity) on 800ms cycle
- Added 'stack' case to renderMechanics() in index.ts
- Stack follows player position via getPlayerPosition()
- Files: src/client/mechanics/stack.ts, src/client/mechanics/index.ts
- Playwright verified: circle renders, arrows animate, follows player movement

STACK-016, STACK-017: Admin testing infrastructure for stack
- Added emitSpawnStack({duration?, radius?}) to __adminTest in admin.ts
- Added admin:spawnStack socket handler in server/index.ts
- Spawns stack on random player with configurable duration/radius
- Files: src/client/admin.ts, src/server/index.ts
- Build verified passing
