## FP-001: Added 'magic-orb' to DoodadType
- Added to union in src/shared/types.ts line 202
- Files: src/shared/types.ts

## FP-002: Added '8x8-grid' to ArenaSkinId
- Added to union in src/shared/types.ts line 2
- Files: src/shared/types.ts

## FP-003 & FP-004: Magic-orb doodad renderer
- Created src/client/doodads/magic-orb.ts with renderMagicOrb()
- Element colors: wind=#00ff88, lightning=#ffff00, ice=#00ccff
- Uses radial gradients: outer glow (2x radius), inner glow, core, bright center
- Pulsing via serverTime % 1500 with sine wave (intensity 0.4-1.0)
- Registered in src/client/doodads/index.ts switch
- Build passes
- Files: src/client/doodads/magic-orb.ts, src/client/doodads/index.ts

## FP-005: 8x8-grid arena skin
- render8x8GridSkin() draws 7 vert + 7 horiz lines at 100px intervals
- Same rgba(100,150,200,0.3) styling as 4x4-grid
- Added case '8x8-grid' to renderArenaSkin switch
- Added admin:setArenaSkin socket handler for testing
- Validated visually via Playwright
- Files: src/client/arenaSkins.ts, src/server/index.ts

## FP-006 & FP-007: Fresh-puff script with orb spawning
- Created src/server/encounters/scripts/combos/fresh-puff.ts
- Exports freshPuff: Script
- Sets 8x8-grid arena skin at start
- Spawns 5 magic-orb doodads with 15000ms duration
- Random pattern: cardinals OR intercardinals, random each run
- Outer orbs: alternating ice/lightning, opposite orbs same element
- Middle orb: 50/50 ice or wind
- All orbs have data.element field
- Files: src/server/encounters/scripts/combos/fresh-puff.ts

## FP-013: Run Fresh Puff admin button
- Added button #run-fresh-puff-btn to public/index.html
- Added click handler in src/client/admin.ts
- Added emitRunFreshPuff() to __adminTest
- Added socket.on('admin:runFreshPuff') in src/server/index.ts
- Validated via Playwright
- Files: public/index.html, src/client/admin.ts, src/server/index.ts

## FP-008: Fresh-puff tether phase
- At T=3000ms, spawns 4 point-to-player tethers from outer orb positions
- Uses at() + runTimeline() pattern for timeline scheduling
- Tether params: endpointA=point (orb pos), endpointB=player, requiredDistance=0, duration=5000ms
- Player assignment: shuffled, 1:1 if 4 players, else cycles through available
- Stores tetherAssignments in ctx for FP-009 (orb movement)
- Validated via Playwright: 4 tethers spawn correctly
- Files: src/server/encounters/scripts/combos/fresh-puff.ts

## FP-009: Fresh-puff orb movement
- After tether resolves (T=8s), each outer orb moves 200px toward tethered player
- Uses waitForResolve(tetherId) to get player position at resolve time
- Movement via moveDoodad(orbId, destX, destY, 750)
- Stores movement angle in ctx.orbMovementAngles[orbIndex] for AOE phase
- Stores destinations in ctx.orbDestinations[orbIndex] for chariot phase
- Validated: NW orb (200,200)→(341,341) = 200px toward player@(400,400)
- Files: src/server/encounters/scripts/combos/fresh-puff.ts

## FP-010: Fresh-puff chariot spawn
- At T=8250ms (250ms into orb movement), spawns chariot at each outer orb destination
- Uses setTimeout(250ms) inside waitForResolve callback to delay spawn
- Chariot params: x=destX, y=destY, radius=50, duration=500
- waitForResolve(chariotId) then damages each player hit via runner.damage(playerId, 100)
- Validated: 4 chariots spawn at correct positions, deal 100 damage on hit
- Files: src/server/encounters/scripts/combos/fresh-puff.ts

## FP-011: Fresh-puff outer orb AOEs
- At T=13750ms, each outer orb fires 4 AOEs based on element
- Ice orbs: 4 lineAoe at 0°, 90°, 180°, 270° relative to movement angle
- Lightning orbs: 4 conalAoe at 45°, 135°, 225°, 315° relative to movement angle
- Line params: width=200, duration=500, length=800 (spans arena)
- Cone params: angle=π/6 (30°), duration=500
- All AOEs deal 100 damage via waitForResolve + runner.damage()
- Uses ctx.orbMovementAngles and ctx.orbDestinations from FP-009
- Validated: 16 AOEs fire (4 orbs × 4 each), damage applied correctly
- Files: src/server/encounters/scripts/combos/fresh-puff.ts
